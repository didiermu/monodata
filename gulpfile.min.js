"use strict";var gulp=require("gulp"),sass=require("gulp-sass")(require("sass")),cssmin=require("gulp-cssmin"),autoprefixer=require("gulp-autoprefixer"),notify=require("gulp-notify"),concat=require("gulp-concat"),uglifyes=require("gulp-uglify-es").default,browserSync=require("browser-sync").create(),pug=require("gulp-pug"),rename=require("gulp-rename"),imagemin=require("gulp-imagemin"),webp=require("imagemin-webp"),extReplace=require("gulp-ext-replace"),watch=require("gulp-watch"),purgecss=require("gulp-purgecss"),del=require("del"),_require=require("gulp"),src=_require.src,dest=_require.dest;gulp.task("pug",function(){return gulp.src(["./src/pug/**/**.pug","!./src/pug/includes/**.pug"]).pipe(pug({pretty:!0})).pipe(gulp.dest("./dist/"))}),gulp.task("sass",function(){return gulp.src("./src/scss/main.scss").pipe(sass().on("error",sass.logError)).pipe(cssmin().on("error",function(s){console.log(s)})).pipe(autoprefixer({browsers:["last 2 versions"],cascade:!1})).pipe(rename({suffix:".min"})).pipe(gulp.dest("./src/css/")).pipe(notify({title:"SCSS",message:"OK"})).pipe(browserSync.stream())}),gulp.task("minifyCSS",function(){return gulp.src("./src/css/*.css").pipe(cssmin()).pipe(concat("styles.min.css")).pipe(gulp.dest("./dist/css/")).pipe(browserSync.stream())}),gulp.task("img",function(){return gulp.src("./src/img/**/**.*").pipe(gulp.dest("./dist/img/"))}),gulp.task("exportWebP",function(){return gulp.src("./src/img/**/*.{jpg,jpeg,png}").pipe(imagemin([webp({quality:75})])).pipe(extReplace(".webp")).pipe(gulp.dest("./src/img/")).pipe(gulp.dest("./dist/img/"))}),gulp.task("scripts",function(){return gulp.src("./src/js/**/**.js").pipe(uglifyes()).pipe(rename({suffix:".min"})).pipe(gulp.dest("./dist/js/"))}),gulp.task("pastefiles",function(){return src("./src/fonts/**/**.*").pipe(gulp.dest("./dist/fonts/")),src("./src/img/**/**.*").pipe(gulp.dest("./dist/img/"))}),gulp.task("watch",function(){gulp.watch("./src/scss/**/**.scss",gulp.series("sass")),gulp.watch("./src/css/**/**.css",gulp.series("minifyCSS")),gulp.watch("./src/js/**/**.js",gulp.series("scripts")),gulp.watch("./src/pug/**/*.pug",gulp.series("pug")),gulp.watch("./src/img/**/**.*",gulp.series("img")),gulp.watch("./src/fonts/*",gulp.series("pastefiles")),gulp.watch("./dist/")}),gulp.task("browser-sync",function(){browserSync.init({injectChanges:!0,files:["./dist/**/*.{html,css,js}"],server:"./dist"}),gulp.watch("./src/",gulp.series("watch")),gulp.watch("./dist/").on("change",browserSync.reload)}),gulp.task("default",gulp.series("pug","sass","scripts","minifyCSS","img","exportWebP","pastefiles","browser-sync"));
//# sourceMappingURL=gulpfile.min.js.map
